if("__TAURI__"in window){var __TAURI_PLUGIN_TRACING__=function(e){"use strict";var o;function n(e,o=!1){return window.__TAURI_INTERNALS__.transformCallback(e,o)}async function r(e,o={},n){return window.__TAURI_INTERNALS__.invoke(e,o,n)}e.LogLevel=void 0,(o=e.LogLevel||(e.LogLevel={}))[o.Trace=1]="Trace",o[o.Debug=2]="Debug",o[o.Info=3]="Info",o[o.Warn=4]="Warn",o[o.Error=5]="Error","function"==typeof SuppressedError&&SuppressedError;const c=e=>String(e).replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,"");function s(){const e=[];return function(o,n){if("object"!=typeof n||null===n)return n;for(;e.length>0&&e.at(-1)!==this;)e.pop();return e.includes(n)?"[Circular]":(e.push(n),n)}}const l=e=>c(JSON.stringify(e,s()));function t(e,o){const n=[...o];return[e.replace(/%([sdifooOc%])/g,((e,o)=>{if("%"===o)return"%";if(0===n.length)return e;const r=n.shift();switch(o){case"s":return String(r);case"d":case"i":return String(Math.floor(Number(r)));case"f":return String(Number(r));case"o":case"O":return JSON.stringify(r,s());case"c":return"";default:return e}})),n]}const a=e=>{const o=[];if("string"==typeof e)o.push(c(e));else if(Array.isArray(e))if(e.length>1&&"string"==typeof e[0]&&e[0].includes("%")){const[n,r]=t(e[0],e.slice(1));o.push(c(n));for(const e of r)o.push(c(e))}else for(const n of e)o.push(c(n));else if("object"==typeof e)for(const[n,r]of Object.entries(e))o.push(`${c(n)}: ${l(r)}`);else console.error("Unhandled type: message is not a string, array, or object, message is "+typeof e);return o};function i(e,...o){r("plugin:tracing|log",{level:e,message:a(o),callStack:(new Error).stack}).catch(console.error)}function u(...o){i(e.LogLevel.Error,...o)}function g(...o){i(e.LogLevel.Warn,...o)}function d(...o){i(e.LogLevel.Info,...o)}function f(...o){i(e.LogLevel.Debug,...o)}function b(...o){i(e.LogLevel.Trace,...o)}var _;async function p(e,o,c){const s={kind:"Any"};return r("plugin:event|listen",{event:e,target:s,handler:n(o)}).then((o=>async()=>async function(e,o){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(e,o),await r("plugin:event|unlisten",{event:e,eventId:o})}(e,o)))}async function L(e){return await p("tracing://log",(o=>{const{level:n}=o.payload,r=a(o.payload.message);e({message:r,level:n})}))}!function(e){e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_CREATED="tauri://window-created",e.WEBVIEW_CREATED="tauri://webview-created",e.DRAG_ENTER="tauri://drag-enter",e.DRAG_OVER="tauri://drag-over",e.DRAG_DROP="tauri://drag-drop",e.DRAG_LEAVE="tauri://drag-leave"}(_||(_={}));let E=null,w=null;function v(){E&&(console.log=E.log,console.debug=E.debug,console.info=E.info,console.warn=E.warn,console.error=E.error,console.trace=E.trace,E=null)}return e.attachConsole=async function(){return await L((({level:o,message:n})=>{switch(o){case e.LogLevel.Trace:console.log(n);break;case e.LogLevel.Debug:console.debug(n);break;case e.LogLevel.Info:console.info(n);break;case e.LogLevel.Warn:console.warn(n);break;case e.LogLevel.Error:console.error(n);break;default:throw new Error(`unknown log level ${o}`)}}))},e.attachLogger=L,e.debug=f,e.error=u,e.formatPrintf=t,e.generateFlamechart=async function(){return await r("plugin:tracing|generate_flamechart")},e.generateFlamegraph=async function(){return await r("plugin:tracing|generate_flamegraph")},e.getCircularReplacer=s,e.info=d,e.interceptConsole=function(e={}){const{preserveOriginal:o=!1}=e;E={log:console.log.bind(console),debug:console.debug.bind(console),info:console.info.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),trace:console.trace.bind(console)};const n=(e,n)=>{const r={trace:b,debug:f,info:d,warn:g,error:u}[e];return(...e)=>{r(...e),o&&n(...e)}};return console.log=n("debug",E.log),console.debug=n("debug",E.debug),console.info=n("info",E.info),console.warn=n("warn",E.warn),console.error=n("error",E.error),console.trace=n("trace",E.trace),v},e.restoreConsole=v,e.takeoverConsole=async function(){w={log:console.log.bind(console),debug:console.debug.bind(console),info:console.info.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),trace:console.trace.bind(console),assert:console.assert.bind(console),dir:console.dir.bind(console),dirxml:console.dirxml.bind(console),table:console.table.bind(console),clear:console.clear.bind(console),count:console.count.bind(console),countReset:console.countReset.bind(console),group:console.group.bind(console),groupCollapsed:console.groupCollapsed.bind(console),groupEnd:console.groupEnd.bind(console),time:console.time.bind(console),timeEnd:console.timeEnd.bind(console),timeLog:console.timeLog.bind(console)};const o=w,n=e=>{const o={trace:b,debug:f,info:d,warn:g,error:u}[e];return(...e)=>o(...e)};console.log=n("debug"),console.debug=n("debug"),console.info=n("info"),console.warn=n("warn"),console.error=n("error"),console.trace=n("trace"),console.assert=(e,...o)=>{e||u("Assertion failed:",...o)},console.dir=(...e)=>f(...e),console.dirxml=(...e)=>f(...e),console.table=(...e)=>{const[o,n]=e;n?f("table:",o,"columns:",n):f("table:",o)};const r=await p("tracing://log",(n=>{const{level:r}=n.payload,c=a(n.payload.message);switch(r){case e.LogLevel.Trace:o.log(c);break;case e.LogLevel.Debug:o.debug(c);break;case e.LogLevel.Info:o.info(c);break;case e.LogLevel.Warn:o.warn(c);break;case e.LogLevel.Error:o.error(c)}}));return()=>{r(),w&&(console.log=w.log,console.debug=w.debug,console.info=w.info,console.warn=w.warn,console.error=w.error,console.trace=w.trace,console.assert=w.assert,console.dir=w.dir,console.dirxml=w.dirxml,console.table=w.table,console.clear=w.clear,console.count=w.count,console.countReset=w.countReset,console.group=w.group,console.groupCollapsed=w.groupCollapsed,console.groupEnd=w.groupEnd,console.time=w.time,console.timeEnd=w.timeEnd,console.timeLog=w.timeLog,w=null)}},e.trace=b,e.warn=g,e}({});Object.defineProperty(window.__TAURI__,"tracing",{value:__TAURI_PLUGIN_TRACING__})}
