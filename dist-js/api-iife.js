if("__TAURI__"in window){var __TAURI_PLUGIN_TRACING__=function(e){"use strict";var r;function n(e,r=!1){return window.__TAURI_INTERNALS__.transformCallback(e,r)}async function t(e,r={},n){return window.__TAURI_INTERNALS__.invoke(e,r,n)}e.LogLevel=void 0,(r=e.LogLevel||(e.LogLevel={}))[r.Trace=1]="Trace",r[r.Debug=2]="Debug",r[r.Info=3]="Info",r[r.Warn=4]="Warn",r[r.Error=5]="Error","function"==typeof SuppressedError&&SuppressedError;const o=e=>String(e).replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,"");function a(){const e=[];return function(r,n){if("object"!=typeof n||null===n)return n;for(;e.length>0&&e.at(-1)!==this;)e.pop();return e.includes(n)?"[Circular]":(e.push(n),n)}}const c=e=>o(JSON.stringify(e,a()));function i(e,r){const n=[...r];return[e.replace(/%([sdifooO%])/g,((e,r)=>{if("%"===r)return"%";if(0===n.length)return e;const t=n.shift();switch(r){case"s":return String(t);case"d":case"i":return String(Math.floor(Number(t)));case"f":return String(Number(t));case"o":case"O":return JSON.stringify(t,a());default:return e}})),n]}const s=e=>{const r=[];if("string"==typeof e)r.push(o(e));else if(Array.isArray(e))if(e.length>1&&"string"==typeof e[0]&&e[0].includes("%")){const[n,t]=i(e[0],e.slice(1));r.push(o(n));for(const e of t)r.push(o(e))}else for(const n of e)r.push(o(n));else if("object"==typeof e)for(const[n,t]of Object.entries(e))r.push(`${o(n)}: ${c(t)}`);else console.error("Unhandled type: message is not a string, array, or object, message is "+typeof e);return r};function u(e,...r){t("plugin:tracing|log",{level:e,message:s(r),callStack:(new Error).stack}).catch(console.error)}var l;async function g(e,r,o){const a={kind:"Any"};return t("plugin:event|listen",{event:e,target:a,handler:n(r)}).then((r=>async()=>async function(e,r){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(e,r),await t("plugin:event|unlisten",{event:e,eventId:r})}(e,r)))}async function f(e){return await g("tracing://log",(r=>{const{level:n}=r.payload,t=s(r.payload.message);e({message:t,level:n})}))}return function(e){e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_CREATED="tauri://window-created",e.WEBVIEW_CREATED="tauri://webview-created",e.DRAG_ENTER="tauri://drag-enter",e.DRAG_OVER="tauri://drag-over",e.DRAG_DROP="tauri://drag-drop",e.DRAG_LEAVE="tauri://drag-leave"}(l||(l={})),e.attachConsole=async function(){return await f((({level:r,message:n})=>{switch(r){case e.LogLevel.Trace:console.log(n);break;case e.LogLevel.Debug:console.debug(n);break;case e.LogLevel.Info:console.info(n);break;case e.LogLevel.Warn:console.warn(n);break;case e.LogLevel.Error:console.error(n);break;default:throw new Error(`unknown log level ${r}`)}}))},e.attachLogger=f,e.debug=function(...r){u(e.LogLevel.Debug,...r)},e.error=function(...r){u(e.LogLevel.Error,...r)},e.formatPrintf=i,e.getCircularReplacer=a,e.info=function(...r){u(e.LogLevel.Info,...r)},e.time=function(e){t("plugin:tracing|time",{label:e,callStack:(new Error).stack}).catch(console.error)},e.timeEnd=function(e){t("plugin:tracing|time_end",{label:e,callStack:(new Error).stack}).catch(console.error)},e.trace=function(...r){u(e.LogLevel.Trace,...r)},e.warn=function(...r){u(e.LogLevel.Warn,...r)},e}({});Object.defineProperty(window.__TAURI__,"tracing",{value:__TAURI_PLUGIN_TRACING__})}
