if("__TAURI__"in window){var __TAURI_PLUGIN_TRACING__=function(e){"use strict";var n;function r(e,n=!1){return window.__TAURI_INTERNALS__.transformCallback(e,n)}async function o(e,n={},r){return window.__TAURI_INTERNALS__.invoke(e,n,r)}e.LogLevel=void 0,(n=e.LogLevel||(e.LogLevel={}))[n.Trace=1]="Trace",n[n.Debug=2]="Debug",n[n.Info=3]="Info",n[n.Warn=4]="Warn",n[n.Error=5]="Error","function"==typeof SuppressedError&&SuppressedError;const t=e=>String(e).replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,"");function a(){const e=[];return function(n,r){if("object"!=typeof r||null===r)return r;for(;e.length>0&&e.at(-1)!==this;)e.pop();return e.includes(r)?"[Circular]":(e.push(r),r)}}const c=e=>t(JSON.stringify(e,a()));function s(e,n){const r=[...n];return[e.replace(/%([sdifooO%])/g,((e,n)=>{if("%"===n)return"%";if(0===r.length)return e;const o=r.shift();switch(n){case"s":return String(o);case"d":case"i":return String(Math.floor(Number(o)));case"f":return String(Number(o));case"o":case"O":return JSON.stringify(o,a());default:return e}})),r]}const l=e=>{const n=[];if("string"==typeof e)n.push(t(e));else if(Array.isArray(e))if(e.length>1&&"string"==typeof e[0]&&e[0].includes("%")){const[r,o]=s(e[0],e.slice(1));n.push(t(r));for(const e of o)n.push(t(e))}else for(const r of e)n.push(t(r));else if("object"==typeof e)for(const[r,o]of Object.entries(e))n.push(`${t(r)}: ${c(o)}`);else console.error("Unhandled type: message is not a string, array, or object, message is "+typeof e);return n};function i(e,...n){o("plugin:tracing|log",{level:e,message:l(n),callStack:(new Error).stack}).catch(console.error)}function u(...n){i(e.LogLevel.Error,...n)}function g(...n){i(e.LogLevel.Warn,...n)}function f(...n){i(e.LogLevel.Info,...n)}function d(...n){i(e.LogLevel.Debug,...n)}function _(...n){i(e.LogLevel.Trace,...n)}var b;async function L(e,n,t){const a={kind:"Any"};return o("plugin:event|listen",{event:e,target:a,handler:r(n)}).then((n=>async()=>async function(e,n){window.__TAURI_EVENT_PLUGIN_INTERNALS__.unregisterListener(e,n),await o("plugin:event|unlisten",{event:e,eventId:n})}(e,n)))}async function v(e){return await L("tracing://log",(n=>{const{level:r}=n.payload,o=l(n.payload.message);e({message:o,level:r})}))}!function(e){e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_CREATED="tauri://window-created",e.WEBVIEW_CREATED="tauri://webview-created",e.DRAG_ENTER="tauri://drag-enter",e.DRAG_OVER="tauri://drag-over",e.DRAG_DROP="tauri://drag-drop",e.DRAG_LEAVE="tauri://drag-leave"}(b||(b={}));let w=null;function E(e={}){const{preserveOriginal:n=!1}=e;w={log:console.log.bind(console),debug:console.debug.bind(console),info:console.info.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),trace:console.trace.bind(console)};const r=(e,r)=>{const o={trace:_,debug:d,info:f,warn:g,error:u}[e];return(...e)=>{o(...e),n&&r(...e)}};return console.log=r("debug",w.log),console.debug=r("debug",w.debug),console.info=r("info",w.info),console.warn=r("warn",w.warn),console.error=r("error",w.error),console.trace=r("trace",w.trace),p}function p(){w&&(console.log=w.log,console.debug=w.debug,console.info=w.info,console.warn=w.warn,console.error=w.error,console.trace=w.trace,w=null)}return e.attachConsole=async function(){return await v((({level:n,message:r})=>{switch(n){case e.LogLevel.Trace:console.log(r);break;case e.LogLevel.Debug:console.debug(r);break;case e.LogLevel.Info:console.info(r);break;case e.LogLevel.Warn:console.warn(r);break;case e.LogLevel.Error:console.error(r);break;default:throw new Error(`unknown log level ${n}`)}}))},e.attachLogger=v,e.debug=d,e.error=u,e.formatPrintf=s,e.generateFlamechart=async function(){return await o("plugin:tracing|generate_flamechart")},e.generateFlamegraph=async function(){return await o("plugin:tracing|generate_flamegraph")},e.getCircularReplacer=a,e.info=f,e.interceptConsole=E,e.restoreConsole=p,e.takeoverConsole=async function(){const n={log:console.log.bind(console),debug:console.debug.bind(console),info:console.info.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),trace:console.trace.bind(console)};E({preserveOriginal:!1});const r=await L("tracing://log",(r=>{const{level:o}=r.payload,t=l(r.payload.message);switch(o){case e.LogLevel.Trace:n.log(t);break;case e.LogLevel.Debug:n.debug(t);break;case e.LogLevel.Info:n.info(t);break;case e.LogLevel.Warn:n.warn(t);break;case e.LogLevel.Error:n.error(t)}}));return()=>{r(),p()}},e.trace=_,e.warn=g,e}({});Object.defineProperty(window.__TAURI__,"tracing",{value:__TAURI_PLUGIN_TRACING__})}
